% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/h_arf.R
\name{h_arf}
\alias{h_arf}
\title{High-dimensional Adversarial Random Forest}
\usage{
h_arf(
  omx_data,
  cli_lab_data = NULL,
  omx_onset_data = NULL,
  num_trees = 20,
  min_node_size = 5,
  encoder = "fastcor",
  correlation_method = "spearman",
  num_clusters = NULL,
  num_btwn_pcs = 2,
  num_onset_pcs = 2,
  chunck_size = 10,
  oob = FALSE,
  family = "truncnorm",
  finite_bounds = "no",
  alpha = 0,
  epsilon = 0,
  parallel = TRUE,
  verbose = FALSE
)
}
\arguments{
\item{omx_data}{A data.frame containing omics data where rows
represent samples (e.g. patients or cells) and columns represent features
(e.g., gene or protein expressions).}

\item{cli_lab_data}{A data.frame of clinical or laboratory data. For example,
this may be a data.frame where rows represent cell types (for single cell data)
or additional clinical patient information (e.g. disease status).}

\item{omx_onset_data}{Optional data.frame of conditional onset omics features.}

\item{num_trees}{Number of trees to grow in each Adversarial Random Forest (ARF) model.}

\item{min_node_size}{Minimum number of samples required to split an internal node in the ARF model.}

\item{encoder}{Method to use for encoding. Currently,
only \code{fastcor} and Random Forest Auto-Encoder (\code{RFAE}) supported. Default is "fastcor".}

\item{correlation_method}{Methods to compute correlation between features. Only useful for the \code{fastcor} encoder.
Options include "pearson", "spearman", and "kendall". Default is "spearman".}

\item{num_clusters}{Number of clusters to form. If NULL, the optimal number
of clusters is found by finding the elbow method.}

\item{num_btwn_pcs}{Number of principal components to use for between cluster variability.
Usually set to 1 or 2. Default is 2.}

\item{num_onset_pcs}{Number of principal components to use for onset features.
Default is 2.}

\item{chunck_size}{Size of feature chuncks to process at a time. Default is 10.}

\item{oob}{Logical indicating whether to use out-of-bag samples for density estimation.
Default is FALSE. Also see \code{forde}}

\item{family}{Distribution to use for density estimation of continuous features. See \code{forde} for options.}

\item{finite_bounds}{Impose finite bounds on all continuous variables?
If "local", infinite bounds are set to empirical extrema within leaves.
If "global", infinite bounds are set to global empirical extrema. if "no"
(the default), infinite bounds are left unchanged. See \code{forde} for more details.}

\item{alpha}{Optional pseudocount for Laplace smoothing in density estimation. See \code{forde} for more details.}

\item{epsilon}{Optional slack parameter on empirical bounds. See \code{forde} for more details.}

\item{parallel}{Logical indicating whether to use parallel processing. Default is TRUE.}

\item{verbose}{Logical indicating whether to print progress messages. Default is FALSE.}
}
\value{
An isoARF object containing the fitted adversarial models, and clustering
information.
}
\description{
The algorithm partitions high-dimensional data into isolated regions and fits
Adversarial Random Forest (ARF) models within each region to capture local
dependencies.
}
\examples{
\dontrun{
data(single_cell)
harf_model <- h_arf(
  omx_data = single_cell[ , - which(colnames(single_cell)  == "cell_type")],
  cli_lab_data = data.frame(cell_type = single_cell$cell_type),
  parallel = TRUE,
  verbose = FALSE
)
# Unconditional sampling from harf_model
set.seed(123)
synth_single_cell <- h_forge(
 harf_obj = harf_model,
 n_synth = nrow(single_cell),
 evidence = NULL,
 parallel = TRUE,
 verbose = FALSE
 )
 # Conditional resampling from harf_model
 set.seed(142)
 lung_single_cell <- h_forge(
     harf_obj = harf_model,
     n_synth = sum(single_cell$cell_type == "lung"),
     evidence = data.frame(cell_type = "lung"),
     verbose = FALSE,
     parallel = TRUE
    )
}
}
\seealso{
\link{h_forge}, \link[arf:adversarial_rf]{arf::adversarial_rf}, \link[arf:forde]{arf::forde}
}
